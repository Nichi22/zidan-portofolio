<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Muhamad Zidan | Portfolio</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&display=swap" rel="stylesheet">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <style>
        :root { --neon-blue: #3b82f6; --neon-orange: #f97316; }
        body { background-color: #020617; color: white; font-family: 'Inter', sans-serif; scroll-behavior: smooth; overflow-x: hidden; }

        /* --- BACKGROUND & LOADING --- */
        #particleCanvas { position: fixed; inset: 0; z-index: -1; opacity: 0.4; }
        #preloader { position: fixed; inset: 0; background: #020617; display: flex; flex-direction: column; align-items: center; justify-content: center; z-index: 10000; transition: 1s cubic-bezier(1, 0, 0, 1); }
        .page-loaded #preloader { transform: translateY(-100%); }

        /* --- ANIMASI TEKS BERKEDIP PELAN --- */
        @keyframes softBlink { 0%, 100% { opacity: 1; } 50% { opacity: 0.4; } }
        .blink-slow { animation: softBlink 3s ease-in-out infinite; }

        /* --- UI ELEMENTS --- */
        .tab-container { background: rgba(30, 41, 59, 0.5); padding: 4px; border-radius: 9999px; border: 1px solid rgba(255,255,255,0.1); display: inline-flex; }
        .tab-btn { padding: 8px 24px; border-radius: 9999px; font-weight: 700; font-size: 0.75rem; transition: all 0.3s; color: #94a3b8; border: none; cursor: pointer; }
        .tab-btn.active { background: #3b82f6; color: white; box-shadow: 0 4px 15px rgba(59, 130, 246, 0.4); }

        .glass-card { background: rgba(255, 255, 255, 0.03); backdrop-filter: blur(12px); border: 1px solid rgba(255, 255, 255, 0.05); transition: 0.4s; }
        .glass-card:hover { transform: translateY(-5px); border-color: var(--neon-blue); }
        
        /* ADMIN VISIBILITY */
        .admin-only { display: none !important; }
        .is-admin .admin-only { display: block !important; }

        .custom-scrollbar::-webkit-scrollbar { width: 4px; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.1); border-radius: 10px; }
    </style>
</head>
<body class="overflow-hidden">

    <canvas id="particleCanvas"></canvas>

    <div id="preloader">
        <h1 class="text-4xl font-black bg-gradient-to-r from-blue-500 to-orange-500 bg-clip-text text-transparent tracking-tighter">MUHAMAD ZIDAN</h1>
        <p class="text-[10px] tracking-[0.3em] text-gray-500 mt-2 uppercase font-bold">www.zidan portofolio.com</p>
        <div class="mt-8 w-48 h-1 bg-slate-900 rounded-full overflow-hidden">
            <div id="loading-bar" class="h-full bg-blue-500 w-0 transition-all duration-500"></div>
        </div>
    </div>

    <nav class="fixed top-0 w-full z-50 p-6 bg-slate-950/50 backdrop-blur-xl border-b border-white/5">
        <div class="max-w-6xl mx-auto flex justify-between items-center">
            <div id="admin-trigger" class="text-2xl font-black text-blue-500 cursor-pointer hover:scale-110 transition">MZ</div>
            <div class="flex gap-8 text-[11px] font-bold tracking-widest uppercase items-center">
                <a href="#about" class="hover:text-blue-400">About</a>
                <a href="#showcase" class="hover:text-blue-400">Works</a>
                <a href="#interaction-zone" class="hover:text-blue-400">Contact</a>
                <button id="logout-btn" class="admin-only bg-red-500/10 text-red-500 border border-red-500/30 px-4 py-2 rounded-full hover:bg-red-500 hover:text-white transition">LOGOUT</button>
            </div>
        </div>
    </nav>

    <main class="relative pt-32 pb-20 px-6 max-w-6xl mx-auto">
        
        <section id="about" class="py-12 grid lg:grid-cols-12 gap-16 items-center">
            <div class="lg:col-span-5 flex justify-center" data-aos="fade-right">
                <div class="glass-card w-full max-w-[340px] rounded-[3rem] p-8 text-center relative group">
                    <div class="w-full aspect-square bg-slate-800 rounded-[2rem] mb-6 overflow-hidden relative border-2 border-white/5">
                        <img id="profile-img" src="" class="hidden w-full h-full object-cover">
                        <div id="initials" class="w-full h-full flex items-center justify-center text-6xl font-black text-slate-700">MZ</div>
                        <label class="admin-only absolute inset-0 bg-black/60 flex items-center justify-center opacity-0 group-hover:opacity-100 cursor-pointer transition">
                            <input type="file" id="inp-profile" class="hidden">
                            <span class="text-xs font-bold">CHANGE PHOTO</span>
                        </label>
                    </div>
                    <h3 class="text-2xl font-black uppercase tracking-tight">MUHAMAD ZIDAN</h3>
                    <p class="text-orange-500 font-bold text-xs tracking-[0.2em] uppercase mb-6">Fullstack Developer</p>
                    <div id="skills-container" class="flex flex-wrap justify-center gap-2"></div>
                </div>
            </div>
            <div class="lg:col-span-7" data-aos="fade-left">
                <h1 class="text-5xl md:text-7xl font-black mb-8 leading-none uppercase blink-slow">
                    Hello, <br> Im <span class="text-blue-500">Zidan!</span>
                </h1>
                <div id="about-desc" class="editable text-gray-400 text-lg leading-relaxed mb-10 border-l-4 border-orange-500 pl-6">Memuat biografi...</div>
                <div class="flex gap-4">
                    <a href="https://drive.google.com/file/d/1ZbYlp5IveBzBo_mw5KtoJAXru_bX-dx0/view?usp=sharing" target="_blank" class="bg-blue-600 hover:bg-orange-600 text-white px-8 py-4 rounded-2xl font-black transition-all shadow-lg shadow-blue-500/20">DOWNLOAD CV</a>
                </div>
            </div>
        </section>

        <section id="showcase" class="py-24 border-t border-white/5">
            <div class="flex flex-col md:flex-row justify-between items-center mb-16 gap-6">
                <h2 class="text-3xl font-black uppercase italic">ShowcasePortofolio</h2>
                <div class="tab-container">
                    <button onclick="switchTab('projects')" id="btn-projects" class="tab-btn active">PROJECTS</button>
                    <button onclick="switchTab('certs')" id="btn-certs" class="tab-btn">CERTIFICATES</button>
                </div>
            </div>
            <div id="projects-content" class="tab-content"><div id="projects-grid" class="grid grid-cols-1 md:grid-cols-3 gap-8 text-white"></div></div>
            <div id="certs-content" class="tab-content hidden"><div id="certs-grid" class="grid grid-cols-1 md:grid-cols-3 gap-8 text-white"></div></div>
        </section>

        <section id="interaction-zone" class="py-24 border-t border-white/5" data-aos="fade-up">
            <div class="grid lg:grid-cols-12 gap-12 items-start">
                
                <div class="lg:col-span-5 space-y-4">
                    <h2 class="text-3xl font-black uppercase italic text-white mb-6">Connect <span class="text-orange-500">With Me</span></h2>
                    
                    <a href="mailto:zidanmuham4@gmail.com" class="glass-card p-5 rounded-[2rem] flex items-center gap-5 group hover:border-red-500/50 block">
                        <div class="w-10 h-10 bg-red-500/20 rounded-xl flex items-center justify-center group-hover:bg-red-500 transition-all flex-shrink-0">
                            <svg class="w-5 h-5 text-red-500 group-hover:text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path></svg>
                        </div>
                        <div><h4 class="font-bold text-[10px] uppercase text-gray-500">Email</h4><p class="text-white text-sm">zidanmuham4@gmail.com</p></div>
                    </a>

                    <a href="https://www.instagram.com/nigh.tdan?igsh=eGc1bndlZW9xbzdt&utm_source=qr" target="_blank" class="glass-card p-5 rounded-[2rem] flex items-center gap-5 group hover:border-pink-500/50 block">
                        <div class="w-10 h-10 bg-pink-500/20 rounded-xl flex items-center justify-center group-hover:bg-pink-500 transition-all flex-shrink-0">
                            <svg class="w-5 h-5 text-pink-500 group-hover:text-white" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849s-.011 3.585-.069 4.85c-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07s-3.584-.012-4.85-.07c-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849s.012-3.584.07-4.849c.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948s.014 3.667.072 4.947c.2 4.337 2.62 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072s3.667-.014 4.947-.072c4.339-.2 6.78-2.62 6.98-6.98.058-1.28.072-1.689.072-4.948s-.014-3.667-.072-4.947c-.2-4.338-2.621-6.78-6.98-6.98-1.28-.058-1.689-.072-4.948-.072zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/></svg>
                        </div>
                        <div><h4 class="font-bold text-[10px] uppercase text-gray-500">Instagram</h4><p class="text-white text-sm">@nigh.tdan</p></div>
                    </a>

                    <a href="https://www.linkedin.com/in/muhamad-zidan-38235237b" target="_blank" class="glass-card p-5 rounded-[2rem] flex items-center gap-5 group hover:border-blue-700/50 block">
                        <div class="w-10 h-10 bg-blue-700/20 rounded-xl flex items-center justify-center group-hover:bg-blue-700 transition-all flex-shrink-0">
                            <svg class="w-5 h-5 text-blue-700 group-hover:text-white" fill="currentColor" viewBox="0 0 24 24"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452z"/></svg>
                        </div>
                        <div><h4 class="font-bold text-[10px] uppercase text-gray-500">LinkedIn</h4><p class="text-white text-sm">Muhamad Zidan</p></div>
                    </a>
                </div>

                <div class="lg:col-span-7">
                    <div class="glass-card p-8 rounded-[2.5rem] relative overflow-hidden">
                        <div class="flex items-center gap-4 mb-6"><div class="w-2 h-2 bg-orange-500 rounded-full animate-ping"></div><h3 class="font-bold">Leave a Comment</h3></div>
                        <div class="space-y-4">
                            <input type="text" id="comm-name" placeholder="Your Name" class="w-full bg-slate-900 border border-white/5 rounded-xl p-4 text-sm text-white focus:border-blue-500 outline-none">
                            <textarea id="comm-msg" placeholder="Write your comment..." class="w-full bg-slate-900 border border-white/5 rounded-xl p-4 text-sm text-white focus:border-blue-500 outline-none h-24 resize-none"></textarea>
                            <button onclick="sendComment()" class="w-full bg-gradient-to-r from-orange-500 to-red-600 py-4 rounded-xl font-black uppercase text-xs tracking-widest hover:scale-[1.02] transition">Post Comment</button>
                        </div>
                    </div>
                    <div id="comment-list" class="mt-8 space-y-4 max-h-[400px] overflow-y-auto custom-scrollbar pr-2"></div>
                </div>
            </div>
        </section>
    </main>

    <button id="save-btn" class="admin-only fixed bottom-8 right-8 bg-green-500 text-white px-8 py-4 rounded-full font-black shadow-2xl z-[9999] hover:scale-105 active:scale-95 transition">ðŸ’¾ SYNC CHANGES</button>

    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getFirestore, doc, onSnapshot, setDoc } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

        const firebaseConfig = { apiKey: "AIzaSyCI1sCEjXqsuUtOgoAOLbY5q0PfmtDVHGk", authDomain: "nichi-efeef.firebaseapp.com", projectId: "nichi-efeef", storageBucket: "nichi-efeef.firebasestorage.app", messagingSenderId: "874414832026", appId: "1:874414832026:web:28b2a04dc674b78f50a223" };
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);
        let myData = { about: "", photo: "", skills: [], projects: [], certs: [], comments: [] };

        const isAdmin = () => localStorage.getItem('isZidanAdmin') === 'true';

        // --- AUTH & ADMIN SYSTEM ---
        let hit = 0;
        document.getElementById('admin-trigger').onclick = () => { 
            hit++; 
            if(hit >= 5) { 
                const pass = prompt("Enter Admin Key:");
                if(pass === "zidan123") { 
                    localStorage.setItem('isZidanAdmin', 'true'); 
                    location.reload(); 
                } 
                hit=0; 
            }
        };

        document.getElementById('logout-btn').onclick = () => {
            if(confirm("Logout from system?")) {
                localStorage.removeItem('isZidanAdmin');
                location.reload();
            }
        };

        // --- DATA SYNC ---
        onSnapshot(doc(db, "portfolio", "zidan-data"), (snap) => {
            if (snap.exists()) {
                myData = snap.data();
                const descBox = document.getElementById('about-desc');
                descBox.innerHTML = myData.about || "Digital Architect.";
                
                if(isAdmin()) {
                    document.body.classList.add('is-admin');
                    descBox.contentEditable = "true";
                }

                if(myData.photo) { 
                    document.getElementById('profile-img').src = myData.photo; 
                    document.getElementById('profile-img').classList.remove('hidden'); 
                    document.getElementById('initials').classList.add('hidden'); 
                }
                renderProjects();
                renderComments();
            }
        });

        window.deleteComment = async (commentId) => {
            if(!isAdmin()) return;
            if(confirm("Delete this comment?")) {
                myData.comments = myData.comments.filter(c => c.id !== commentId);
                await setDoc(doc(db, "portfolio", "zidan-data"), myData);
            }
        };

        function renderComments() {
            const container = document.getElementById('comment-list');
            container.innerHTML = (myData.comments || []).map(c => `
                <div class="glass-card p-5 rounded-2xl border-l-4 border-blue-500 flex justify-between items-start">
                    <div>
                        <div class="flex items-center gap-2 mb-2">
                            <span class="font-bold text-blue-400 text-sm">@${c.name}</span>
                            <span class="text-[9px] text-gray-500">${c.date}</span>
                        </div>
                        <p class="text-gray-300 text-sm leading-relaxed">${c.message}</p>
                    </div>
                    ${isAdmin() ? `<button onclick="deleteComment(${c.id})" class="text-red-500 text-[10px] font-bold hover:underline ml-4">DELETE</button>` : ''}
                </div>
            `).join('');
        }

        document.getElementById('save-btn').onclick = async () => {
            if(!isAdmin()) return;
            myData.about = document.getElementById('about-desc').innerHTML;
            await setDoc(doc(db, "portfolio", "zidan-data"), myData);
            alert("System Synced Successfully!");
        };

        // --- OTHERS ---
        window.sendComment = async () => {
            const name = document.getElementById('comm-name').value;
            const msg = document.getElementById('comm-msg').value;
            if(!name || !msg) return alert("Please fill all fields!");
            const newC = { id: Date.now(), name, message: msg, date: new Date().toLocaleString() };
            myData.comments = [newC, ...(myData.comments || [])];
            await setDoc(doc(db, "portfolio", "zidan-data"), myData);
            document.getElementById('comm-msg').value = "";
            document.getElementById('comm-name').value = "";
        };

        window.switchTab = (type) => {
            document.querySelectorAll('.tab-content').forEach(c => c.classList.add('hidden'));
            document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
            document.getElementById(`${type}-content`).classList.remove('hidden');
            document.getElementById(`btn-${type}`).classList.add('active');
        };

        function renderProjects() {
            const grid = (list) => list.map(p => `
                <div class="glass-card p-4 rounded-[2rem]">
                    <img src="${p.img}" class="w-full h-40 object-cover rounded-2xl mb-4">
                    <h4 class="font-bold text-sm uppercase">${p.name}</h4>
                </div>
            `).join('');
            document.getElementById('projects-grid').innerHTML = grid(myData.projects || []);
            document.getElementById('certs-grid').innerHTML = grid(myData.certs || []);
        }

        // --- ANIMATIONS ---
        let loadProgress = 0;
        const interval = setInterval(() => {
            loadProgress += 5;
            document.getElementById('loading-bar').style.width = loadProgress + "%";
            if(loadProgress >= 100) { clearInterval(interval); document.body.classList.add('page-loaded'); document.body.classList.remove('overflow-hidden'); }
        }, 80);

        const canvas = document.getElementById('particleCanvas');
        const ctx = canvas.getContext('2d');
        let particles = [];
        function initCanvas() { canvas.width = window.innerWidth; canvas.height = window.innerHeight; particles = []; for(let i=0; i<40; i++) particles.push({ x: Math.random()*canvas.width, y: Math.random()*canvas.height, vx: (Math.random()-0.5)*0.3, vy: (Math.random()-0.5)*0.3, size: Math.random()*2 }); }
        function animate() { ctx.clearRect(0,0,canvas.width,canvas.height); ctx.fillStyle = "rgba(59, 130, 246, 0.4)"; particles.forEach(p => { p.x+=p.vx; p.y+=p.vy; if(p.x<0||p.x>canvas.width) p.vx*=-1; if(p.y<0||p.y>canvas.height) p.vy*=-1; ctx.beginPath(); ctx.arc(p.x, p.y, p.size, 0, Math.PI*2); ctx.fill(); }); requestAnimationFrame(animate); }
        initCanvas(); animate(); window.onresize = initCanvas;
        AOS.init({ duration: 1000, once: true });
    </script>
</body>
</html>
